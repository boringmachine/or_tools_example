from coopr.pyomo import *

model = AbstractModel()

model.I = Set()
model.J = Set()

model.y = Var(model.J, within=Boolean)
model.x = Var(model.I, model.J, within=Boolean)


def con1_rule(model, i):
    return sum(model.x[i,j] for j in model.J) == 1

model.con1 = Constraint(model.I, rule=con1_rule)

def con2_rule(model, i, j):
    return model.x[i,j] <= model.y[j]

model.con2 = Constraint(model.I, model.J, rule=con2_rule)

def con3_rule(model):
    return sum(y[j] for j in model.J) == k

model.con3 = Constraint(rule=con3_rule)

